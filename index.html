<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Index Checker - أداة فحص فهرسة جوجل</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4285f4;
            --secondary-color: #34a853;
            --danger-color: #ea4335;
            --warning-color: #fbbc05;
            --dark-color: #202124;
            --light-color: #f8f9fa;
            --gray-color: #dadce0;
            --text-color: #3c4043;
            --text-light: #5f6368;
            --border-radius: 8px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Language Switcher */
        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 10px;
            background: white;
            padding: 10px 15px;
            border-radius: 30px;
            box-shadow: var(--box-shadow);
            border: 1px solid var(--gray-color);
        }

        .language-btn {
            padding: 8px 15px;
            border: none;
            background: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .language-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        .language-btn:hover:not(.active) {
            background-color: var(--light-color);
        }

        /* RTL Support */
        body[dir="rtl"] {
            font-family: 'Segoe UI', 'Cairo', 'Tahoma', sans-serif;
        }

        body[dir="rtl"] .language-switcher {
            right: auto;
            left: 20px;
        }

        body[dir="rtl"] .url-input-container {
            flex-direction: row-reverse;
        }

        body[dir="rtl"] .progress-header,
        body[dir="rtl"] .result-header {
            flex-direction: row-reverse;
        }

        body[dir="rtl"] .footer-links {
            flex-direction: row-reverse;
        }

        body[dir="rtl"] .notification {
            right: auto;
            left: 20px;
        }

        body[dir="rtl"] .info-box {
            border-left: none;
            border-right: 4px solid var(--primary-color);
        }

        body[dir="rtl"] .info-box.warning {
            border-left: none;
            border-right: 4px solid var(--warning-color);
        }

        /* Main Container */
        .container {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
            margin-bottom: 30px;
            margin-top: 70px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--gray-color);
        }

        h1 {
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        h1 i {
            font-size: 2.2rem;
        }

        .subtitle {
            color: var(--text-light);
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto;
        }

        h2 {
            color: var(--dark-color);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        h3 {
            color: var(--text-light);
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 10px;
        }

        .card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            margin-bottom: 25px;
            border-top: 4px solid var(--primary-color);
        }

        .input-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 25px;
        }

        label {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--dark-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .url-input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        #urlInput {
            flex: 1;
            padding: 15px;
            border: 2px solid var(--gray-color);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        #urlInput:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.1);
        }

        #urlInput.error {
            border-color: var(--danger-color);
        }

        #generateBtn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            padding: 0 30px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        #generateBtn:hover {
            background-color: #3367d6;
            transform: translateY(-2px);
        }

        #generateBtn:disabled {
            background-color: var(--gray-color);
            cursor: not-allowed;
            transform: none;
        }

        #generateBtn i {
            font-size: 1.2rem;
        }

        .progress-container {
            margin: 25px 0;
            display: none;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .progress-bar {
            height: 10px;
            background-color: var(--gray-color);
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--secondary-color);
            width: 0%;
            transition: width 0.5s ease;
        }

        .info-box {
            background-color: #e8f0fe;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 25px;
            border-left: 4px solid var(--primary-color);
        }

        .info-box.warning {
            background-color: #fef7e0;
            border-left-color: var(--warning-color);
        }

        .info-box ul {
            padding-left: 20px;
            margin-top: 10px;
        }

        .info-box li {
            margin-bottom: 8px;
        }

        .result-container {
            display: none;
            margin-top: 30px;
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .result-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 10px 20px;
            border-radius: var(--border-radius);
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .copy-btn {
            background-color: var(--secondary-color);
            color: white;
        }

        .copy-btn:hover {
            background-color: #2e8b47;
        }

        .copy-btn.copied {
            background-color: var(--warning-color);
        }

        .download-btn {
            background-color: var(--primary-color);
            color: white;
        }

        .download-btn:hover {
            background-color: #3367d6;
        }

        #outputText {
            width: 100%;
            height: 300px;
            padding: 20px;
            border: 2px solid var(--gray-color);
            border-radius: var(--border-radius);
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            resize: vertical;
            background-color: #f8f9fa;
            color: var(--dark-color);
        }

        #outputText:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 25px;
        }

        .stat-box {
            background-color: #f8f9fa;
            border-radius: var(--border-radius);
            padding: 20px;
            text-align: center;
            border-top: 4px solid var(--primary-color);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--gray-color);
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
        }

        .footer-links a {
            color: var(--primary-color);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            text-decoration: underline;
        }

        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: var(--border-radius);
            background-color: var(--dark-color);
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateY(100px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
            z-index: 1000;
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .notification.success {
            background-color: var(--secondary-color);
        }

        .notification.error {
            background-color: var(--danger-color);
        }

        .notification.warning {
            background-color: var(--warning-color);
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .language-switcher {
                position: static;
                margin-bottom: 20px;
                justify-content: center;
            }
            
            body[dir="rtl"] .language-switcher {
                left: auto;
                right: auto;
            }
            
            .container {
                padding: 20px;
                margin-top: 20px;
            }
            
            h1 {
                font-size: 1.8rem;
                flex-direction: column;
                gap: 10px;
            }
            
            .url-input-container {
                flex-direction: column;
            }
            
            body[dir="rtl"] .url-input-container {
                flex-direction: column;
            }
            
            #generateBtn {
                padding: 15px;
            }
            
            .result-actions {
                flex-direction: column;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body dir="ltr">
    <!-- Language Switcher -->
    <div class="language-switcher">
        <button class="language-btn active" data-lang="en">
            <i class="fas fa-language"></i>
            English
        </button>
        <button class="language-btn" data-lang="ar">
            <i class="fas fa-language"></i>
            العربية
        </button>
    </div>

    <!-- Main Content -->
    <div class="container">
        <header>
            <h1>
                <i class="fas fa-search"></i>
                <span data-translate="title">Google Index Checker</span>
            </h1>
            <p class="subtitle" data-translate="subtitle">Professional tool to generate backlink pages for improving your website's Google indexing and search visibility</p>
        </header>

        <div class="card">
            <h2 data-translate="enter_url">Enter Your Website URL</h2>
            <p class="subtitle" data-translate="url_description">Provide the URL of the website you want to check and generate backlinks for</p>
            
            <div class="input-group">
                <label for="urlInput">
                    <i class="fas fa-link"></i>
                    <span data-translate="website_url">Website URL</span>
                </label>
                <div class="url-input-container">
                    <input 
                        type="url" 
                        id="urlInput" 
                        placeholder="https://www.yourwebsite.com" 
                        value="https://www.yourwebsite.com"
                        data-placeholder-en="https://www.yourwebsite.com"
                        data-placeholder-ar="https://www.موقعك.com"
                    >
                    <button id="generateBtn">
                        <i class="fas fa-cogs"></i>
                        <span data-translate="generate_btn">Generate Backlinks</span>
                    </button>
                </div>
                <small style="color: var(--text-light); margin-top: 5px;" data-translate="url_hint">
                    Make sure to include https:// or http:// prefix
                </small>
            </div>
            
            <div class="progress-container" id="progressContainer">
                <div class="progress-header">
                    <span data-translate="generating">Generating backlinks...</span>
                    <span id="progressPercent">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div id="progressStatus" data-translate="initializing">Initializing...</div>
            </div>
        </div>

        <div class="info-box warning">
            <h3><i class="fas fa-exclamation-triangle"></i> <span data-translate="important_title">Important Information</span></h3>
            <ul>
                <li data-translate="info1">This tool generates code for a backlink page that can be hosted online to improve indexing.</li>
                <li data-translate="info2">After clicking "Generate", wait for the process to complete. It may take some time as it processes multiple links.</li>
                <li data-translate="info3">Once generated, copy the code and create a webpage with it on any hosting service.</li>
                <li data-translate="info4">Do not close any automatically opened windows - they will close automatically after a few seconds.</li>
            </ul>
        </div>

        <div class="info-box">
            <h3><i class="fas fa-lightbulb"></i> <span data-translate="how_it_works_title">How It Works</span></h3>
            <ul>
                <li data-translate="step1">Enter your website URL in the input field above</li>
                <li data-translate="step2">Click "Generate Backlinks" to create a backlink page code</li>
                <li data-translate="step3">Copy the generated HTML code from the result box</li>
                <li data-translate="step4">Create a new webpage using the copied code and host it online</li>
                <li data-translate="step5">The generated page will contain backlinks to your website from various sources</li>
            </ul>
        </div>

        <div class="result-container" id="resultContainer">
            <div class="result-header">
                <h2 data-translate="generated_code_title">Generated Backlink Code</h2>
                <div class="result-actions">
                    <button class="action-btn copy-btn" id="copyBtn">
                        <i class="far fa-copy"></i>
                        <span data-translate="copy_btn">Copy Code</span>
                    </button>
                    <button class="action-btn download-btn" id="downloadBtn">
                        <i class="fas fa-download"></i>
                        <span data-translate="download_btn">Download HTML</span>
                    </button>
                </div>
            </div>
            
            <textarea 
                id="outputText" 
                readonly 
                data-placeholder-en="Generated code will appear here..."
                data-placeholder-ar="سيظهر الكود المُنشأ هنا..."
            ></textarea>
            
            <div class="stats-container">
                <div class="stat-box">
                    <div class="stat-value" id="linkCount">0</div>
                    <div class="stat-label" data-translate="links_generated">Backlinks Generated</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="pageSize">0 KB</div>
                    <div class="stat-label" data-translate="page_size">Page Size</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="charCount">0</div>
                    <div class="stat-label" data-translate="characters">Characters</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="lineCount">0</div>
                    <div class="stat-label" data-translate="lines_code">Lines of Code</div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p data-translate="copyright">Google Index Checker Tool &copy; <span id="currentYear"></span> | Professional SEO Utility</p>
        <div class="footer-links">
            <a href="#" id="privacyLink" data-translate="privacy_link">Privacy Policy</a>
            <a href="#" id="termsLink" data-translate="terms_link">Terms of Service</a>
            <a href="#" id="contactLink" data-translate="contact_link">Contact</a>
        </div>
    </footer>

    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText">Operation completed successfully</span>
    </div>

    <script>
        // Language Data
        const translations = {
            en: {
                // Interface Text
                "title": "Google Index Checker",
                "subtitle": "Professional tool to generate backlink pages for improving your website's Google indexing and search visibility",
                "enter_url": "Enter Your Website URL",
                "url_description": "Provide the URL of the website you want to check and generate backlinks for",
                "website_url": "Website URL",
                "url_hint": "Make sure to include https:// or http:// prefix",
                "generate_btn": "Generate Backlinks",
                "generating": "Generating backlinks...",
                "initializing": "Initializing...",
                "important_title": "Important Information",
                "info1": "This tool generates code for a backlink page that can be hosted online to improve indexing.",
                "info2": "After clicking 'Generate', wait for the process to complete. It may take some time as it processes multiple links.",
                "info3": "Once generated, copy the code and create a webpage with it on any hosting service.",
                "info4": "Do not close any automatically opened windows - they will close automatically after a few seconds.",
                "how_it_works_title": "How It Works",
                "step1": "Enter your website URL in the input field above",
                "step2": "Click 'Generate Backlinks' to create a backlink page code",
                "step3": "Copy the generated HTML code from the result box",
                "step4": "Create a new webpage using the copied code and host it online",
                "step5": "The generated page will contain backlinks to your website from various sources",
                "generated_code_title": "Generated Backlink Code",
                "copy_btn": "Copy Code",
                "download_btn": "Download HTML",
                "links_generated": "Backlinks Generated",
                "page_size": "Page Size",
                "characters": "Characters",
                "lines_code": "Lines of Code",
                "copyright": "Google Index Checker Tool © | Professional SEO Utility",
                "privacy_link": "Privacy Policy",
                "terms_link": "Terms of Service",
                "contact_link": "Contact",
                
                // Notifications
                "notification_success": "Backlink code generated successfully!",
                "notification_copied": "Code copied to clipboard!",
                "notification_downloaded": "HTML file downloaded successfully!",
                "notification_invalid_url": "Please enter a valid URL (include https://)",
                "notification_no_code": "No code to copy. Please generate backlinks first.",
                "notification_failed_copy": "Failed to copy code. Please try again.",
                
                // Progress Status
                "progress_preparing": "Preparing backlink generation...",
                "progress_generating": "Generating backlink templates...",
                "progress_building": "Building HTML structure...",
                "progress_complete": "Generation complete!",
                
                // Generated HTML Content
                "html_title": "Backlinks for {url}",
                "html_description": "Generated backlinks for {url} to improve Google indexing",
                "html_about": "About this page: This page contains backlinks to {url} to help improve its visibility and indexing in search engines like Google.",
                "html_backlinks_title": "Generated Backlinks",
                "html_backlinks_desc": "The following backlinks point to {url}:",
                "html_how_to_use_title": "How to Use These Backlinks",
                "html_how_to_use": "These backlinks are automatically generated and should be used as part of a broader SEO strategy. For best results, combine with high-quality content creation and other white-hat SEO techniques.",
                "html_footer1": "Backlink page generated automatically on {date}",
                "html_footer2": "This page is intended for SEO improvement purposes only."
            },
            ar: {
                // Interface Text
                "title": "أداة فحص فهرسة جوجل",
                "subtitle": "أداة احترافية لإنشاء صفحات الروابط الخلفية لتحسين فهرسة موقعك في جوجل وزيادة ظهوره في البحث",
                "enter_url": "أدخل رابط موقعك الإلكتروني",
                "url_description": "أدخل رابط الموقع الإلكتروني الذي تريد فحصه وإنشاء روابط خلفية له",
                "website_url": "رابط الموقع الإلكتروني",
                "url_hint": "تأكد من تضمين البادئة https:// أو http://",
                "generate_btn": "إنشاء الروابط الخلفية",
                "generating": "جاري إنشاء الروابط الخلفية...",
                "initializing": "جاري التهيئة...",
                "important_title": "معلومات مهمة",
                "info1": "تقوم هذه الأداة بإنشاء كود لصفحة روابط خلفية يمكن استضافتها عبر الإنترنت لتحسين الفهرسة.",
                "info2": "بعد النقر على 'إنشاء'، انتظر حتى تكتمل العملية. قد تستغرق بعض الوقت حيث تقوم بمعالجة روابط متعددة.",
                "info3": "بعد الإنشاء، انسخ الكود وقم بإنشاء صفحة ويب باستخدامه على أي خدمة استضافة.",
                "info4": "لا تغلق النوافذ التي تفتح تلقائيًا - ستغلق تلقائيًا بعد بضع ثوانٍ.",
                "how_it_works_title": "كيف تعمل الأداة",
                "step1": "أدخل رابط موقعك الإلكتروني في حقل الإدخال أعلاه",
                "step2": "انقر على 'إنشاء الروابط الخلفية' لإنشاء كود صفحة الروابط الخلفية",
                "step3": "انسخ كود HTML المُنشأ من صندوق النتائج",
                "step4": "قم بإنشاء صفحة ويب جديدة باستخدام الكود المنسوخ واستضفها عبر الإنترنت",
                "step5": "ستحتوي الصفحة المُنشأة على روابط خلفية لموقعك من مصادر مختلفة",
                "generated_code_title": "الكود المُنشأ للروابط الخلفية",
                "copy_btn": "نسخ الكود",
                "download_btn": "تنزيل HTML",
                "links_generated": "الروابط الخلفية المُنشأة",
                "page_size": "حجم الصفحة",
                "characters": "عدد الأحرف",
                "lines_code": "أسطر الكود",
                "copyright": "أداة فحص فهرسة جوجل © | أداة SEO احترافية",
                "privacy_link": "سياسة الخصوصية",
                "terms_link": "شروط الخدمة",
                "contact_link": "اتصل بنا",
                
                // Notifications
                "notification_success": "تم إنشاء كود الروابط الخلفية بنجاح!",
                "notification_copied": "تم نسخ الكود إلى الحافظة!",
                "notification_downloaded": "تم تنزيل ملف HTML بنجاح!",
                "notification_invalid_url": "الرجاء إدخال رابط صالح (تضمين https://)",
                "notification_no_code": "لا يوجد كود للنسخ. الرجاء إنشاء الروابط الخلفية أولاً.",
                "notification_failed_copy": "فشل نسخ الكود. الرجاء المحاولة مرة أخرى.",
                
                // Progress Status
                "progress_preparing": "جاري التحضير لإنشاء الروابط الخلفية...",
                "progress_generating": "جاري إنشاء قوالب الروابط الخلفية...",
                "progress_building": "جاري بناء هيكل HTML...",
                "progress_complete": "اكتمل الإنشاء!",
                
                // Generated HTML Content
                "html_title": "روابط خلفية لـ {url}",
                "html_description": "روابط خلفية مُنشأة لـ {url} لتحسين الفهرسة في جوجل",
                "html_about": "حول هذه الصفحة: تحتوي هذه الصفحة على روابط خلفية لـ {url} للمساعدة في تحسين ظهورها وفهرستها في محركات البحث مثل جوجل.",
                "html_backlinks_title": "الروابط الخلفية المُنشأة",
                "html_backlinks_desc": "الروابط الخلفية التالية تشير إلى {url}:",
                "html_how_to_use_title": "كيفية استخدام هذه الروابط الخلفية",
                "html_how_to_use": "تم إنشاء هذه الروابط الخلفية تلقائيًا ويجب استخدامها كجزء من استراتيجية SEO أوسع. للحصول على أفضل النتائج، قم بدمجها مع إنشاء محتوى عالي الجودة وتقنيات SEO أخرى.",
                "html_footer1": "تم إنشاء صفحة الروابط الخلفية تلقائيًا في {date}",
                "html_footer2": "هذه الصفحة مخصصة لأغراض تحسين SEO فقط."
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            // Set current year in footer
            document.getElementById('currentYear').textContent = new Date().getFullYear();
            
            // DOM Elements
            const urlInput = document.getElementById('urlInput');
            const generateBtn = document.getElementById('generateBtn');
            const outputText = document.getElementById('outputText');
            const copyBtn = document.getElementById('copyBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const resultContainer = document.getElementById('resultContainer');
            const progressContainer = document.getElementById('progressContainer');
            const progressFill = document.getElementById('progressFill');
            const progressPercent = document.getElementById('progressPercent');
            const progressStatus = document.getElementById('progressStatus');
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            const languageBtns = document.querySelectorAll('.language-btn');
            
            // Stats elements
            const linkCountEl = document.getElementById('linkCount');
            const pageSizeEl = document.getElementById('pageSize');
            const charCountEl = document.getElementById('charCount');
            const lineCountEl = document.getElementById('lineCount');
            
            // Current language
            let currentLang = 'en';
            
            // Language switching function
            function switchLanguage(lang) {
                currentLang = lang;
                
                // Update button states
                languageBtns.forEach(btn => {
                    if (btn.dataset.lang === lang) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
                
                // Update text direction
                document.body.dir = lang === 'ar' ? 'rtl' : 'ltr';
                
                // Update all translatable elements
                document.querySelectorAll('[data-translate]').forEach(element => {
                    const key = element.getAttribute('data-translate');
                    if (translations[lang][key]) {
                        element.textContent = translations[lang][key];
                    }
                });
                
                // Update placeholders
                const urlPlaceholder = urlInput.getAttribute(`data-placeholder-${lang}`);
                const outputPlaceholder = outputText.getAttribute(`data-placeholder-${lang}`);
                
                if (urlPlaceholder) {
                    urlInput.placeholder = urlPlaceholder;
                }
                
                if (outputPlaceholder) {
                    outputText.placeholder = outputPlaceholder;
                }
                
                // Update page title
                document.title = lang === 'ar' 
                    ? 'أداة فحص فهرسة جوجل - Google Index Checker' 
                    : 'Google Index Checker - أداة فحص فهرسة جوجل';
                
                // Show notification
                showNotification(
                    lang === 'ar' 
                        ? 'تم تغيير اللغة إلى العربية' 
                        : 'Language switched to English',
                    'success'
                );
            }
            
            // Language button event listeners
            languageBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const lang = this.dataset.lang;
                    if (lang !== currentLang) {
                        switchLanguage(lang);
                    }
                });
            });
            
            // Backlink templates
            const backlinkTemplates = [
                'https://www.fudbal91.com/tz.php?zone=America/Iqaluit&r={url}',
                'https://edusearch.ir/Goto.aspx?url={url}',
                'https://www.webwiki.com/{url}',
                'https://redirect.is/{url}',
                'https://www.protopage.com/{url}',
                'https://www.symbaloo.com/{url}',
                'https://www.netvibes.com/{url}',
                'https://www.scoop.it/{url}',
                'https://www.paper.li/{url}',
                'https://www.trove.com/{url}',
                'https://www.wikio.com/{url}',
                'https://www.plazoo.com/{url}',
                'https://www.evrishop.com/{url}',
                'https://www.bloglovin.com/{url}',
                'https://feedly.com/{url}',
                'https://www.theoldreader.com/{url}',
                'https://www.flipboard.com/{url}',
                'https://www.newsblur.com/{url}',
                'https://www.feedspot.com/{url}',
                'https://www.inoreader.com/{url}'
            ];
            
            // Validate URL
            function isValidURL(string) {
                try {
                    new URL(string);
                    return true;
                } catch (_) {
                    return false;
                }
            }
            
            // Show notification
            function showNotification(message, type = 'success') {
                notificationText.textContent = message;
                notification.className = `notification ${type} show`;
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
            
            // Update progress
            function updateProgress(percent, status) {
                progressFill.style.width = `${percent}%`;
                progressPercent.textContent = `${Math.round(percent)}%`;
                
                // Translate status if it's a translation key
                if (translations[currentLang][status]) {
                    progressStatus.textContent = translations[currentLang][status];
                } else {
                    progressStatus.textContent = status;
                }
            }
            
            // Generate backlinks
            function generateBacklinks(url) {
                let backlinksHTML = '';
                
                backlinkTemplates.forEach((template, index) => {
                    const backlinkURL = template.replace('{url}', encodeURIComponent(url));
                    backlinksHTML += `<a href="${backlinkURL}" target="_blank" rel="nofollow">${backlinkURL}</a><br>\n`;
                    
                    // Update progress
                    const percent = ((index + 1) / backlinkTemplates.length) * 100;
                    updateProgress(percent, `progress_generating`);
                });
                
                return backlinksHTML;
            }
            
            // Generate complete HTML page
            function generateHTMLPage(url) {
                const backlinksHTML = generateBacklinks(url);
                const currentDate = new Date().toLocaleDateString(currentLang === 'ar' ? 'ar-SA' : 'en-US', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                const translationsForHTML = translations[currentLang];
                
                return `<!DOCTYPE html>
<html lang="${currentLang}" dir="${currentLang === 'ar' ? 'rtl' : 'ltr'}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${translationsForHTML['html_title'].replace('{url}', url)}</title>
    <meta name="description" content="${translationsForHTML['html_description'].replace('{url}', url)}">
    <style>
        body {
            font-family: ${currentLang === 'ar' ? "'Cairo', 'Arial', sans-serif" : "Arial, sans-serif"};
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f7fa;
            color: #333;
            text-align: ${currentLang === 'ar' ? 'right' : 'left'};
        }
        header {
            background-color: #4285f4;
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            text-align: center;
        }
        h1 {
            margin: 0;
            font-size: 2rem;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .backlinks {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .backlink-item {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #f9f9f9;
            transition: all 0.3s ease;
        }
        .backlink-item:hover {
            background-color: #e8f0fe;
            border-color: #4285f4;
        }
        .backlink-item a {
            color: #1a73e8;
            text-decoration: none;
            word-break: break-all;
        }
        .backlink-item a:hover {
            text-decoration: underline;
        }
        footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            text-align: center;
            color: #666;
            font-size: 0.9rem;
        }
        .info-box {
            background-color: #e8f0fe;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-${currentLang === 'ar' ? 'right' : 'left'}: 4px solid #4285f4;
        }
        @media (max-width: 768px) {
            .backlinks {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>${translationsForHTML['html_title'].replace('{url}', url)}</h1>
        <p>${translationsForHTML['html_description'].replace('{url}', url)}</p>
    </header>
    
    <div class="container">
        <div class="info-box">
            <strong>${currentLang === 'ar' ? 'حول هذه الصفحة:' : 'About this page:'}</strong> 
            ${translationsForHTML['html_about'].replace('{url}', `<a href="${url}">${url}</a>`)}
        </div>
        
        <h2>${translationsForHTML['html_backlinks_title']}</h2>
        <p>${translationsForHTML['html_backlinks_desc'].replace('{url}', `<strong>${url}</strong>`)}</p>
        
        <div class="backlinks">
            ${backlinksHTML}
        </div>
        
        <div style="margin-top: 30px; padding: 15px; background-color: #f1f8e9; border-radius: 5px;">
            <h3>${translationsForHTML['html_how_to_use_title']}</h3>
            <p>${translationsForHTML['html_how_to_use']}</p>
        </div>
    </div>
    
    <footer>
        <p>${translationsForHTML['html_footer1'].replace('{date}', currentDate)}</p>
        <p>${translationsForHTML['html_footer2']}</p>
    </footer>
    
    <script>
        // Auto-open backlinks (optional - can be disabled)
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Backlink page loaded for ${url}');
        });
    <\/script>
</body>
</html>`;
            }
            
            // Calculate stats
            function calculateStats(html) {
                const linkCount = (html.match(/<a /g) || []).length;
                const charCount = html.length;
                const lineCount = (html.match(/\n/g) || []).length;
                const pageSizeKB = (new Blob([html]).size / 1024).toFixed(2);
                
                linkCountEl.textContent = linkCount;
                charCountEl.textContent = charCount.toLocaleString(currentLang === 'ar' ? 'ar-SA' : 'en-US');
                lineCountEl.textContent = lineCount;
                pageSizeEl.textContent = `${pageSizeKB} KB`;
            }
            
            // Generate button click handler
            generateBtn.addEventListener('click', function() {
                const url = urlInput.value.trim();
                
                // Validate URL
                if (!url || !isValidURL(url)) {
                    urlInput.classList.add('error');
                    showNotification(translations[currentLang]['notification_invalid_url'], 'error');
                    return;
                }
                
                urlInput.classList.remove('error');
                
                // Disable generate button and show progress
                generateBtn.disabled = true;
                generateBtn.innerHTML = '<div class="loading"></div> ' + 
                    (currentLang === 'ar' ? 'جاري الإنشاء...' : 'Generating...');
                progressContainer.style.display = 'block';
                resultContainer.style.display = 'none';
                
                // Simulate processing time with progress updates
                updateProgress(10, 'progress_preparing');
                
                setTimeout(() => {
                    updateProgress(30, 'progress_generating');
                    
                    setTimeout(() => {
                        updateProgress(70, 'progress_building');
                        
                        setTimeout(() => {
                            // Generate the HTML
                            const html = generateHTMLPage(url);
                            outputText.value = html;
                            
                            // Calculate and display stats
                            calculateStats(html);
                            
                            // Show result container
                            updateProgress(100, 'progress_complete');
                            
                            setTimeout(() => {
                                progressContainer.style.display = 'none';
                                resultContainer.style.display = 'block';
                                
                                // Re-enable generate button
                                generateBtn.disabled = false;
                                generateBtn.innerHTML = '<i class="fas fa-cogs"></i> ' + 
                                    (currentLang === 'ar' ? 'إنشاء الروابط الخلفية' : 'Generate Backlinks');
                                
                                showNotification(translations[currentLang]['notification_success'], 'success');
                            }, 500);
                        }, 800);
                    }, 600);
                }, 500);
            });
            
            // Copy button click handler
            copyBtn.addEventListener('click', function() {
                if (!outputText.value) {
                    showNotification(translations[currentLang]['notification_no_code'], 'warning');
                    return;
                }
                
                navigator.clipboard.writeText(outputText.value).then(() => {
                    copyBtn.innerHTML = '<i class="fas fa-check"></i> ' + 
                        (currentLang === 'ar' ? 'تم النسخ!' : 'Copied!');
                    copyBtn.classList.add('copied');
                    showNotification(translations[currentLang]['notification_copied'], 'success');
                    
                    setTimeout(() => {
                        copyBtn.innerHTML = '<i class="far fa-copy"></i> ' + 
                            (currentLang === 'ar' ? 'نسخ الكود' : 'Copy Code');
                        copyBtn.classList.remove('copied');
                    }, 2000);
                }).catch(err => {
                    console.error('Failed to copy: ', err);
                    showNotification(translations[currentLang]['notification_failed_copy'], 'error');
                });
            });
            
            // Download button click handler
            downloadBtn.addEventListener('click', function() {
                if (!outputText.value) {
                    showNotification(translations[currentLang]['notification_no_code'], 'warning');
                    return;
                }
                
                const blob = new Blob([outputText.value], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `backlinks-${new Date().getTime()}.html`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                showNotification(translations[currentLang]['notification_downloaded'], 'success');
            });
            
            // Footer links
            document.getElementById('privacyLink').addEventListener('click', function(e) {
                e.preventDefault();
                showNotification(
                    currentLang === 'ar' 
                        ? 'سيتم فتح صفحة سياسة الخصوصية هنا' 
                        : 'Privacy policy page would open here.',
                    'warning'
                );
            });
            
            document.getElementById('termsLink').addEventListener('click', function(e) {
                e.preventDefault();
                showNotification(
                    currentLang === 'ar' 
                        ? 'سيتم فتح صفحة شروط الخدمة هنا' 
                        : 'Terms of service page would open here.',
                    'warning'
                );
            });
            
            document.getElementById('contactLink').addEventListener('click', function(e) {
                e.preventDefault();
                showNotification(
                    currentLang === 'ar' 
                        ? 'سيتم فتح نموذج الاتصال هنا' 
                        : 'Contact form would open here.',
                    'warning'
                );
            });
            
            // URL input validation
            urlInput.addEventListener('input', function() {
                if (this.value.trim() && isValidURL(this.value.trim())) {
                    this.classList.remove('error');
                } else {
                    this.classList.add('error');
                }
            });
            
            // Initialize with English language
            switchLanguage('en');
        });
    </script>
</body>
</html>
